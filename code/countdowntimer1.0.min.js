/*
	jQuery Countdown Timer Plugin
	Copyright (c) 2011 Daniel Thomson
	
	Licensed under the MIT license:
	http://www.opensource.org/licenses/mit-license.php
*/

(function(a){a.fn.countdown=function(b){var c={clockID:"#countdown",showYear:true,showMonth:true,showDay:true,showHour:true,showMinute:true,showSecond:true,endDate:"19.12.2020",endTime:"14.30.00",dateFormat:"dd-mm-yyyy",finishedMessage:"<h1>The time has come!</h1>",digitHeight:55,digitWidth:55,timezone:0};var d=a.extend(true,{},c,b);this.each(function(){var b=a(this);b.timer=0;a.fn.countdown.makeClock(b,d);b.seconds=b.find(".seconds");b.minutes=b.find(".minutes");b.hours=b.find(".hours");b.days=b.find(".days");b.months=b.find(".months");b.years=b.find(".years");console.log("setting clock position");a(document).focus(function(){clearTimeout(b.timer);a.fn.countdown.init(b,d);console.log("setting up the clock again")})});return this};a.fn.countdown.init=function(b,c){clearTimeout(b.timer);b.endTime=a.fn.countdown.getEndDate(c);b.currentTime=a.fn.countdown.getCurrentTime();b.resetStatus=false;b.timeLeft=a.fn.countdown.findTimeLeft(b,c);a.fn.countdown.setClock(b,c);b.timer=setTimeout(function(){a.fn.countdown.timeClock(b,c)},1e3)};a.fn.countdown.makeClock=function(b,c){var d='<div class="digits"><div class="digitWrap"><ul><li class="n0">0</li><li class="n1">1</li><li class="n2">2</li><li class="n3">3</li><li class="n4">4</li><li class="n5">5</li><li class="n6">6</li><li class="n7">7</li><li class="n8">8</li><li class="n9">9</li></ul><div class="zero n0">0</div></div></div>',e='<div class="years"><div class="tens">'+d+'</div><div class="ones">'+d+"</div><label>years</label></div>",f='<div class="months"><div class="tens">'+d+'</div><div class="ones">'+d+"</div><label>months</label></div>",g='<div class="days"><div class="tens">'+d+'</div><div class="ones">'+d+"</div><label>days</label></div>",h='<div class="hours"><div class="tens">'+d+'</div><div class="ones">'+d+"</div><label>hours</label></div>",i='<div class="minutes"><div class="tens">'+d+'</div><div class="ones">'+d+"</div><label>minutes</label></div>",j='<div class="seconds"><div class="tens">'+d+'</div><div class="ones">'+d+"</div><label>seconds</label></div>",k='<div class="clock">'+e+f+g+h+i+j+"</div>";k='<div class="clock">';if(c.showYear){k+=e}if(c.showMonth){k+=f}if(c.showDay){k+=g}if(c.showHour){k+=h}if(c.showMinute){k+=i}if(c.showSecond){k+=j}k+="</div>";b.html(k);a(".clock > div").css({"float":"left",position:"relative"});a(".zero").css({height:c.digitHeight+"px",width:c.digitWidth+"px",padding:"0px",margin:"0px","z-index":"2",position:"absolute",top:"0px",left:"0px"});a(".tens, .ones").css({"float":"left",position:"relative",display:"block",height:c.digitHeight+"px",width:c.digitWidth+"px",overflow:"hidden",padding:"0px",margin:"0px"});a(".digitWrap").css("position","relative");a(".tens .digits, .ones .digits").css({position:"absolute",top:"0px",left:"0px",width:c.digitWidth+"px","z-index":"1"});a(".tens li, .ones li").css({display:"block",height:c.digitHeight+"px",width:c.digitWidth+"px","list-style":"none",padding:"0px",margin:"0px"});a(".ones .zero").css("top",10*c.digitHeight+"px");a(".seconds .tens .zero, .minutes .tens .zero").css("top",6*c.digitHeight+"px");a(".hours .tens .zero").css("top",3*c.digitHeight+"px");a(".months .tens .zero").css("top",2*c.digitHeight+"px");a(".years .tens .zero").css("top",10*c.digitHeight+"px")};a.fn.countdown.setClock=function(a,b){var c=a.timeLeft,d=-b.digitHeight,e=".tens .digits",f=".ones .digits",g={};g.secOnes=c.seconds%10;g.secTens=Math.floor(c.seconds/10);g.minOnes=c.minutes%10;g.minTens=Math.floor(c.minutes/10);g.hourOnes=c.hours%10;g.hourTens=Math.floor(c.hours/10);g.dayOnes=c.day%10;g.dayTens=Math.floor(c.day/10);g.monthOnes=c.month%10;g.monthTens=Math.floor(c.month/10);g.yearOnes=c.year%10;g.yearTens=Math.floor(c.year/10);if(b.showSecond){a.seconds.find(f).css("top",g.secOnes*d+"px");a.seconds.find(e).css("top",g.secTens*d+"px")}if(b.showMinute){a.minutes.find(f).css("top",g.minOnes*d+"px");a.minutes.find(e).css("top",g.minTens*d+"px")}if(b.showHour){a.hours.find(f).css("top",g.hourOnes*d+"px");a.hours.find(e).css("top",g.hourTens*d+"px")}if(b.showDay){a.days.find(f).css("top",g.dayOnes*d+"px");a.days.find(e).css("top",g.dayTens*d+"px")}if(b.showMonth){a.months.find(f).css("top",g.monthOnes*d+"px");a.months.find(e).css("top",g.monthTens*d+"px")}if(b.showYear){a.years.find(f).css("top",g.yearOnes*d+"px");a.years.find(e).css("top",g.yearTens*d+"px")}a.count=g};a.fn.countdown.timeClock=function(b,c){var d=10,e=-c.digitHeight,f=b.count,g=b.count.secOnes,h,i=".ones .digits",j=".tens .digits";if(f.secOnes==0){f.secOnes=10;if(c.showSecond){b.seconds.find(i).css("top",f.secOnes*e+"px")}if(f.secTens==0){f.secTens=6;if(c.showSecond){b.seconds.find(j).css("top",f.secTens*e+"px")}if(f.minOnes==0){f.minOnes=10;if(c.showMinute){b.minutes.find(i).css("top",f.minOnes*e+"px")}if(f.minTens==0){f.minTens=6;if(c.showMinute){b.minutes.find(j).css("top",f.minTens*e+"px")}if(f.hourOnes==0){if(f.hourTens==0){f.hourOnes=4;f.hourTens=3;if(c.showHour){b.hours.find(j).css("top",f.hourTens*e+"px")}if(f.dayOnes==0){if(f.dayTens==0){var k=b.currentTime.month-1;var l=b.currentTime.year;if(k<0){k=12;l--}var m=a.fn.countdown.daysInMonth(k,l);f.dayOnes=m%10;f.dayTens=Math.floor(m/10)+1;if(c.showDay){b.days.find(i).css("top",f.dayOnes*e+"px");b.days.find(j).css("top",f.dayTens*e+"px")}if(f.monthOnes==0){if(f.monthTens==0){f.monthOnes=2;f.monthTens=2;if(f.yearOnes==0){f.yearOnes=10;if(c.showYear){b.years.find(i).css("top",f.yearOnes*e,600)}if(f.yearTens==0){a.fn.countdown.finish(b,c);return false}else{f.yearTens--;if(c.showYear){a.fn.countdown.step(b.years.find(j),f.yearTens*e,600)}}}if(c.showMonth){b.months.find(j).css("top",f.monthTens*e+"px")}f.yearOnes--;if(c.showYear){a.fn.countdown.step(b.years.find(i),f.yearOnes*e,600)}}else{f.monthOnes=10}if(c.showMonth){b.months.find(i).css("top",f.monthOnes*e+"px")}f.monthTens--;if(c.showMonth){a.fn.countdown.step(b.months.find(j),f.monthTens*e,600)}}f.monthOnes--;if(c.showMonth){a.fn.countdown.step(b.months.find(i),f.monthOnes*e,600)}}f.dayTens--;if(c.showDay){a.fn.countdown.step(b.days.find(j),f.dayTens*e,600)}}else{f.dayOnes=10}f.dayOnes--;if(c.showDay){a.fn.countdown.step(b.days.find(i),f.dayOnes*e,600)}}else{f.hourOnes=10}if(c.showHour){b.hours.find(i).css("top",f.hourOnes*e+"px")}f.hourTens--;if(c.showHour){a.fn.countdown.step(b.hours.find(j),f.hourTens*e,600)}}f.hourOnes--;if(c.showHour){a.fn.countdown.step(b.hours.find(i),f.hourOnes*e,600)}}f.minTens--;if(c.showMinute){a.fn.countdown.step(b.minutes.find(j),f.minTens*e,600)}}f.minOnes--;if(c.showMinute){a.fn.countdown.step(b.minutes.find(i),f.minOnes*e,600)}}f.secTens--;if(c.showSecond){a.fn.countdown.step(b.seconds.find(j),f.secTens*e,600)}}f.secOnes--;if(c.showSecond){a.fn.countdown.step(b.seconds.find(i),f.secOnes*e,300)}if(b.resetStatus==true){a.fn.countdown.init(b,c);return}else{b.timer=setTimeout(function(){a.fn.countdown.timeClock(b,c)},1e3)}};a.fn.countdown.getEndDate=function(a){var b=a.timezone;var c=a.dateFormat,d=a.endDate.split(/[\s,\.\-\/]/),e=a.endTime.split(/[\s,\.\-]/),f={};if(c==="dd/mm/yyyy"||c==="dd-mm-yyyy"||c==="dd mm yyyy"||c==="dd,mm,yyyy"||c==="dd.mm.yyyy"){f.day=parseInt(d[0]);f.month=parseInt(d[1])}else if(c==="mm/dd/yyyy"||c==="mm-dd-yyyy"||c==="mm dd yyyy"||c==="mm,dd,yyyy"||c==="mm.dd.yyyy"){f.day=parseInt(d[1]);f.month=parseInt(d[0])}f.year=parseInt(d[2]);f.hours=parseInt(e[0]);f.minutes=parseInt(e[1]);f.seconds=parseInt(e[2]);return f};a.fn.countdown.getCurrentTime=function(){var a={},b=new Date;a.year=b.getFullYear();a.month=b.getMonth();a.day=b.getDate();a.hours=b.getHours();a.minutes=b.getMinutes();a.seconds=b.getSeconds();return a};a.fn.countdown.findTimeLeft=function(b,c){var d={},e=b.currentTime,f=b.endTime;d.seconds=f.seconds-e.seconds;if(d.seconds<0){d.seconds+=60;f.minutes--}d.minutes=f.minutes-e.minutes;if(d.minutes<0){d.minutes+=60;f.hours--}d.hours=f.hours-e.hours;if(d.hours<0){d.hours+=24;f.day--}d.day=f.day-e.day;if(d.day<0){var g=a.fn.countdown.daysInMonth(e.month,e.year);d.day+=g;f.month--}d.month=f.month-e.month;if(d.month<0){d.month+=12;f.year--}d.year=f.year-e.year;if(d.month==0&&c.showMonth){a(".months .ones .zero").css("top",2*c.digitHeight+"px")}if(d.day==0){nextMonth=e.month+1;theYear=e.year;if(nextMonth>12){nextMonth=0;theYear+=1}var h=a.fn.countdown.daysInMonth(nextMonth,theYear);var i=h%10+1,j=Math.floor(h/10)+1;if(c.showDay){a(".days .ones .zero").css("top",i*c.digitHeight+"px");a(".days .tens .zero").css("top",j*c.digitHeight+"px")}}return d};a.fn.countdown.daysInMonth=function(a,b){return 32-(new Date(b,a,32)).getDate()};a.fn.countdown.step=function(a,b,c){a.animate({top:b+"px"},c)};a.fn.countdown.finish=function(a,b){a.html(b.finishedMessage)}})(jQuery)